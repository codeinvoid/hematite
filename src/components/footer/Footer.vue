<script setup>
import Nav from './Nav.vue'
import NavItem from './Item.vue'
import NavList from './NavList.vue'
import NavFoo from './NavFoo.vue'
</script>

<template>
    <section id="footer" class="section">
        <footer class="absolute bg-ff5c5c right-0 left-0 b-0 fw1000">
            <div class="m-25px mb-0">
                <div class="padding-1vw sm:padding-auto">
                    <div class="w60 md:mb-25px mr-10 float-left">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -200 780.72 200.16">
                            <path class="cls-1"
                                d="M109.3,117.3V54.7h25.5c3.3,0,6.5,0.8,9.3,2.5c2.8,1.7,5.1,4.1,6.6,6.9c3.3,6.1,3.3,13.4,0,19.5c-1.6,2.8-3.9,5.3-6.6,7c-2.8,1.8-6,2.7-9.2,2.6h-15.8v24L109.3,117.3z M118.9,84h15.6c1.6,0,3.1-0.5,4.4-1.4c1.3-0.9,2.4-2.2,3.2-3.6c0.8-1.5,1.2-3.3,1.2-5c0-1.7-0.4-3.5-1.2-5c-0.8-1.4-1.8-2.7-3.2-3.6c-1.3-0.9-2.8-1.4-4.4-1.4h-15.6V84z" />
                            <path class="cls-1"
                                d="M163.6,117.3V70.3h9.3v14.7l-0.9-3.6c0.7-2.3,1.8-4.4,3.4-6.2c1.5-1.8,3.4-3.3,5.4-4.3c2-1,4.2-1.6,6.4-1.6
                                c1,0,2,0.1,2.9,0.3c0.8,0.1,1.5,0.3,2.2,0.6l-2.4,10c-0.8-0.3-1.6-0.6-2.4-0.8c-0.8-0.2-1.7-0.3-2.5-0.3c-1.6,0-3.1,0.3-4.6,0.9
                                c-1.4,0.6-2.7,1.5-3.9,2.6c-1.1,1.1-2,2.4-2.6,3.8c-0.7,1.5-1,3.1-1,4.8v25.9L163.6,117.3z" />
                            <path class="cls-1" d="M218.7,118.2c-4.3,0.1-8.6-1-12.3-3.2c-3.6-2.1-6.5-5.1-8.5-8.7c-4.2-7.8-4.2-17.3,0-25.1c2-3.6,5-6.6,8.5-8.7
                                c7.6-4.2,16.9-4.2,24.5,0c3.6,2.1,6.5,5.1,8.5,8.7c4.2,7.8,4.2,17.3,0,25.1c-2,3.6-5,6.6-8.5,8.7C227.2,117.1,223,118.2,218.7,118.2
                                z M218.7,109.8c2.7,0,5.3-0.7,7.5-2.1c2.2-1.4,4-3.4,5.2-5.7c1.3-2.5,1.9-5.3,1.8-8.2c0.1-2.9-0.5-5.7-1.8-8.3
                                c-1.2-2.3-3-4.3-5.2-5.7c-4.6-2.8-10.4-2.7-15.1,0.1c-2.2,1.4-4,3.4-5.2,5.7c-1.3,2.5-1.9,5.3-1.8,8.2c-0.1,2.8,0.5,5.6,1.8,8.2
                                c1.2,2.3,3,4.3,5.2,5.7C213.5,109.1,216.1,109.8,218.7,109.8z" />
                            <path class="cls-1" id="j" d="M247,134.9l-3.5-7.1c2,0.1,4-0.3,5.8-1.2c1.5-0.8,2.7-2.1,3.4-3.6c0.8-1.8,1.2-3.8,1.2-5.8V70.3h9.2v49.1
                                c0.1,2.8-0.6,5.6-2,8c-1.3,2.3-3.3,4.2-5.6,5.5C252.8,134.2,249.9,134.9,247,134.9z" />
                            <path class="cls-1" d="M298.2,118.2c-4.5,0.1-8.9-1-12.8-3.1c-3.6-2-6.7-4.9-8.8-8.4c-2.2-3.7-3.3-8-3.2-12.3c0-3.4,0.6-6.9,1.8-10.1
                                c1.1-2.9,2.8-5.6,5-7.9c2.1-2.2,4.7-4,7.6-5.2c3.1-1.2,6.3-1.9,9.6-1.8c2.9,0,5.8,0.6,8.5,1.7c5.3,2.3,9.3,6.6,11.3,12
                                c1.1,2.9,1.6,6,1.5,9.1l-0.1,3.9h-38.3l-2-7.3h32.4l-1.3,1.5V88c-0.2-1.9-0.9-3.7-2-5.3c-2.3-3.2-6-5-9.9-5
                                c-2.8-0.1-5.6,0.5-8.1,1.8c-2.2,1.2-3.9,3.1-5,5.4c-1.2,2.7-1.8,5.7-1.7,8.7c-0.1,3,0.6,5.9,2,8.5c1.3,2.4,3.4,4.3,5.8,5.6
                                c2.7,1.4,5.7,2.1,8.7,2c2.2,0,4.4-0.4,6.5-1.2c2.4-1,4.6-2.4,6.5-4.2l4.6,6.5c-1.5,1.5-3.3,2.8-5.2,3.8c-2.1,1.1-4.3,1.9-6.5,2.6
                                C302.7,117.8,300.5,118.1,298.2,118.2z" />
                            <path class="cls-1" d="M348.6,118.2c-4.1,0.1-8.2-1.1-11.7-3.2c-3.4-2.2-6.2-5.2-8.1-8.8c-4-7.8-4-17,0-24.8c1.9-3.6,4.7-6.6,8.1-8.8
                                c3.5-2.2,7.5-3.3,11.7-3.2c3.9-0.1,7.9,0.8,11.4,2.5c3.2,1.5,5.9,3.9,7.8,6.9l-5.1,6.2c-1-1.4-2.3-2.7-3.7-3.8c-1.4-1.1-3-2-4.7-2.7
                                c-1.5-0.6-3.2-1-4.8-1c-2.7,0-5.3,0.7-7.6,2.1c-2.2,1.4-4.1,3.4-5.3,5.8c-1.3,2.5-2,5.4-2,8.2c-0.1,5.6,2.7,10.9,7.5,13.9
                                c3.6,2.3,8.1,2.8,12.2,1.3c1.6-0.6,3.1-1.4,4.4-2.4c1.5-1.1,2.8-2.5,4-3.9l5.2,6.3c-2.1,2.9-4.9,5.1-8.2,6.6
                                C356.2,117.3,352.4,118.2,348.6,118.2z" />
                            <path class="cls-1"
                                d="M372.5,79.3v-8.9h29.9v8.9H372.5z M382.3,117.3V58.4h9.2v58.9L382.3,117.3z" />
                            <path class="cls-1" d="M439,117.3V54.7h22.5c3.5-0.1,6.9,0.8,9.9,2.5c5.9,3.3,9.5,9.6,9.3,16.4c0.1,3.3-0.7,6.6-2.3,9.4
                                c-1.6,2.7-3.8,4.8-6.5,6.3c-2.9,1.6-6.1,2.3-9.4,2.3h-19v25.7L439,117.3z M443.5,87.1H463c2.4,0,4.7-0.5,6.8-1.7
                                c1.9-1.1,3.5-2.8,4.6-4.7c1.1-2.1,1.7-4.5,1.6-6.9c0-2.6-0.6-5.2-1.9-7.5c-1.2-2.2-3-4-5.2-5.2c-2.3-1.3-5-1.9-7.6-1.9h-17.8
                                L443.5,87.1z M478,117.3l-15.5-26.9l3.7-2.4l17,29.2L478,117.3z" />
                            <path class="cls-1" d="M504.2,117.3V59.2h-18.3v-4.5h41.7v4.5h-19v58.1L504.2,117.3z" />
                            <path class="cls-1" d="M556.7,118.2c-2.9,0-5.8-0.4-8.5-1.3c-2.7-0.9-5.3-2.2-7.5-4c-2.3-1.8-4.4-4-6-6.5l3.2-3.3
                                c2.2,3.4,5.2,6.2,8.8,8.2c3.2,1.6,6.7,2.5,10.3,2.5c2.9,0,5.8-0.5,8.5-1.7c2.3-1,4.4-2.5,5.9-4.6c1.4-1.9,2.2-4.2,2.2-6.6
                                c0-1.5-0.2-2.9-0.8-4.3c-0.6-1.2-1.4-2.3-2.4-3.1c-1.1-1-2.4-1.7-3.8-2.4c-1.6-0.7-3.2-1.4-4.9-1.9c-1.8-0.6-3.8-1.1-5.8-1.7
                                c-2.9-0.8-5.4-1.7-7.6-2.6c-2.1-0.8-4-1.9-5.7-3.2c-1.5-1.2-2.8-2.7-3.6-4.5c-0.9-2-1.3-4.2-1.2-6.3c0-2.3,0.5-4.6,1.5-6.7
                                c1-2,2.4-3.8,4.2-5.3c1.8-1.5,3.9-2.7,6.2-3.4c5.2-1.7,10.9-1.6,16.1,0.2c2.4,0.9,4.5,2.2,6.4,3.9c1.9,1.7,3.6,3.7,5,5.9l-3.3,3.2
                                c-1.2-1.9-2.7-3.7-4.4-5.3c-1.6-1.5-3.4-2.6-5.4-3.4c-4.7-1.7-9.8-1.6-14.4,0.3c-2.1,1-4,2.5-5.3,4.3c-1.3,1.8-2,4.1-2,6.3
                                c0,1.5,0.3,3,0.9,4.4c0.7,1.3,1.7,2.5,2.9,3.3c1.6,1,3.3,1.9,5.1,2.5c2.1,0.7,4.5,1.5,7.4,2.2c2.7,0.6,5.4,1.5,8,2.5
                                c2.2,0.9,4.3,2,6.2,3.4c1.7,1.2,3.1,2.9,4,4.7c1,2.1,1.5,4.4,1.4,6.7c0,3.2-0.9,6.4-2.8,9c-1.9,2.7-4.6,4.9-7.6,6.2
                                C564.3,117.5,560.5,118.2,556.7,118.2z" />
                            <path class="cls-1" d="M592.5,117.3V54.7h4.1l43.4,56.9l-1.1,2.4c-0.1-0.5-0.1-1.7-0.1-3.8s-0.1-4.5-0.1-7.3s-0.1-5.7-0.1-8.7
                                s-0.1-5.8-0.1-8.3s0-4.5,0-5.9V54.7h4.5v62.6h-4.3L595,60l1.2-2.5c0.1,1.2,0.1,2.9,0.2,5s0.1,4.5,0.2,7s0.1,5,0.2,7.4
                                s0.1,4.5,0.1,6.2s0,2.9,0,3.3v30.8H592.5z" />
                            <ellipse transform="matrix(0.1602 -0.9871 0.9871 0.1602 163.8939 300.5942)" class="cls-2"
                                cx="258.6" cy="54" rx="6.4" ry="6.4" />
                        </svg>
                    </div>
                    <NavList>
                        <Nav>
                            分社
                            <NavFoo>
                                <NavItem href="/anime">动画</NavItem>
                                <NavItem href="/game">游戏</NavItem>
                            </NavFoo>
                        </Nav>
                        <Nav>
                            文档
                            <NavFoo>
                                <NavItem href="/api">接口</NavItem>
                                <NavItem href="https://wiki.pkgho.com/" target="_blank">维基</NavItem>
                                <NavItem href="/termsofuse">服务条款(服务器)</NavItem>
                            </NavFoo>
                        </Nav>
                        <Nav>
                            刊物
                            <NavFoo>
                                <NavItem href="/beru">服铃</NavItem>
                            </NavFoo>
                        </Nav>
                    </NavList>
                </div>
            </div>
            <div id="version" float-left b-0 absolute ml-70px fw-300 overflow-hidden>
                <p class="color-white">ProjectRTSN/hematite&nbsp;{{ branch }}@<a :href=git_link target="_blank"
                        data-turbo-action="replace">{{ hash_short }}</a></p>
            </div>
        </footer>
    </section>
</template>

<script>
import anime from 'animejs'
var branch = import.meta.env.VITE_BUILD_BRANCH
var hash = import.meta.env.VITE_BUILD_HASH
var hash_short = hash.slice(0, 7)
const git_link = "https://github.com/ProjectRTSN/hematite/tree/" + hash
console.log();
export default {
    data() {
        return {
            branch,
            git_link,
            hash_short
        }
    },
    mounted() {
        const topVisible = () => window.scrollY == 0
        if (topVisible()) {
            var tl = anime.timeline();
            tl
                .add({
                    targets: '.cls-2',
                    translateY: -300,
                    easing: 'steps(1)'
                })
                .add({
                    targets: ['.cls-1'],
                    translateY: -200,
                    delay: anime.stagger(100)
                })
                .add({
                    targets: '.cls-2',
                    easing: 'easeInOutBounce',
                    translateY: -200,
                })
                .add({
                    targets: '#nav',
                    scale: [0.75, 1],
                    opacity: [0, 1],
                })
                .add({
                    targets: '#version',
                    scale: [0.75, 1],
                    opacity: [0, 1],
                })
        }
    }
}
</script>

<style lang="scss" scoped>
footer,
nav,
ul {
    list-style: none;
}

a,
a:visited {
    color: #FFF;
    transition: all 250ms linear;
    transition-timing-function: ease-in-out;
}

a:hover {
    border-bottom: 2px solid #FFFFFF;
}

.cls-1 {
    fill: #FFF;
}

.cls-2 {
    fill: #FFF;
    transform: translateY(-70%)
}
</style>